!function(){function m(h,g){function b(p,q){return function(){return p.apply(q,arguments)}}var j;if(g=g||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=g.touchBoundary||10,this.layer=h,this.tapDelay=g.tapDelay||200,this.tapTimeout=g.tapTimeout||700,!m.notNeeded(h)){for(var f=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],d=this,o=0,c=f.length;c>o;o++){d[f[o]]=b(d[f[o]],d)}e&&(h.addEventListener("mouseover",this.onMouse,!0),h.addEventListener("mousedown",this.onMouse,!0),h.addEventListener("mouseup",this.onMouse,!0)),h.addEventListener("click",this.onClick,!0),h.addEventListener("touchstart",this.onTouchStart,!1),h.addEventListener("touchmove",this.onTouchMove,!1),h.addEventListener("touchend",this.onTouchEnd,!1),h.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(h.removeEventListener=function(u,q,t){var p=Node.prototype.removeEventListener;"click"===u?p.call(h,u,q.hijacked||q,t):p.call(h,u,q,t)},h.addEventListener=function(u,q,t){var p=Node.prototype.addEventListener;"click"===u?p.call(h,u,q.hijacked||(q.hijacked=function(r){r.propagationStopped||q(r)}),t):p.call(h,u,q,t)}),"function"==typeof h.onclick&&(j=h.onclick,h.addEventListener("click",function(p){j(p)},!1),h.onclick=null)}}var k=navigator.userAgent.indexOf("Windows Phone")>=0,e=navigator.userAgent.indexOf("Android")>0&&!k,i=/iP(ad|hone|od)/.test(navigator.userAgent)&&!k,n=i&&/OS 4_\d(_\d)?/.test(navigator.userAgent),l=i&&/OS [6-7]_\d/.test(navigator.userAgent),a=navigator.userAgent.indexOf("BB10")>0;m.prototype.needsClick=function(b){switch(b.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(b.disabled){return !0}break;case"input":if(i&&"file"===b.type||b.disabled){return !0}break;case"label":case"iframe":case"video":return !0}return/\bneedsclick\b/.test(b.className)},m.prototype.needsFocus=function(b){switch(b.nodeName.toLowerCase()){case"textarea":return !0;case"select":return !e;case"input":switch(b.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return !1}return !b.disabled&&!b.readOnly;default:return/\bneedsfocus\b/.test(b.className)}},m.prototype.sendClick=function(c,f){var b,d;document.activeElement&&document.activeElement!==c&&document.activeElement.blur(),d=f.changedTouches[0],b=document.createEvent("MouseEvents"),b.initMouseEvent(this.determineEventType(c),!0,!0,window,1,d.screenX,d.screenY,d.clientX,d.clientY,!1,!1,!1,!1,0,null),b.forwardedTouchEvent=!0,c.dispatchEvent(b)},m.prototype.determineEventType=function(b){return e&&"select"===b.tagName.toLowerCase()?"mousedown":"click"},m.prototype.focus=function(b){var c;i&&b.setSelectionRange&&0!==b.type.indexOf("date")&&"time"!==b.type&&"month"!==b.type?(c=b.value.length,b.setSelectionRange(c,c)):b.focus()},m.prototype.updateScrollParent=function(b){var d,c;if(d=b.fastClickScrollParent,!d||!d.contains(b)){c=b;do{if(c.scrollHeight>c.offsetHeight){d=c,b.fastClickScrollParent=c;break}c=c.parentElement}while(c)}d&&(d.fastClickLastScrollTop=d.scrollTop)},m.prototype.getTargetElementFromEventTarget=function(b){return b.nodeType===Node.TEXT_NODE?b.parentNode:b},m.prototype.onTouchStart=function(c){var d,b,f;if(c.targetTouches.length>1){return !0}if(d=this.getTargetElementFromEventTarget(c.target),b=c.targetTouches[0],i){if(f=window.getSelection(),f.rangeCount&&!f.isCollapsed){return !0}if(!n){if(b.identifier&&b.identifier===this.lastTouchIdentifier){return c.preventDefault(),!1}this.lastTouchIdentifier=b.identifier,this.updateScrollParent(d)}}return this.trackingClick=!0,this.trackingClickStart=c.timeStamp,this.targetElement=d,this.touchStartX=b.pageX,this.touchStartY=b.pageY,c.timeStamp-this.lastClickTime<this.tapDelay&&c.preventDefault(),!0},m.prototype.touchHasMoved=function(b){var d=b.changedTouches[0],c=this.touchBoundary;return Math.abs(d.pageX-this.touchStartX)>c||Math.abs(d.pageY-this.touchStartY)>c?!0:!1},m.prototype.onTouchMove=function(b){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(b.target)||this.touchHasMoved(b))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},m.prototype.findControl=function(b){return void 0!==b.control?b.control:b.htmlFor?document.getElementById(b.htmlFor):b.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},m.prototype.onTouchEnd=function(j){var g,c,f,h,b,d=this.targetElement;if(!this.trackingClick){return !0}if(j.timeStamp-this.lastClickTime<this.tapDelay){return this.cancelNextClick=!0,!0}if(j.timeStamp-this.trackingClickStart>this.tapTimeout){return !0}if(this.cancelNextClick=!1,this.lastClickTime=j.timeStamp,c=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,l&&(b=j.changedTouches[0],d=document.elementFromPoint(b.pageX-window.pageXOffset,b.pageY-window.pageYOffset)||d,d.fastClickScrollParent=this.targetElement.fastClickScrollParent),f=d.tagName.toLowerCase(),"label"===f){if(g=this.findControl(d)){if(this.focus(d),e){return !1}d=g}}else{if(this.needsFocus(d)){return j.timeStamp-c>100||i&&window.top!==window&&"input"===f?(this.targetElement=null,!1):(this.focus(d),this.sendClick(d,j),i&&"select"===f||(this.targetElement=null,j.preventDefault()),!1)}}return i&&!n&&(h=d.fastClickScrollParent,h&&h.fastClickLastScrollTop!==h.scrollTop)?!0:(this.needsClick(d)||(j.preventDefault(),this.sendClick(d,j)),!1)},m.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},m.prototype.onMouse=function(b){return this.targetElement?b.forwardedTouchEvent?!0:b.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(b.stopImmediatePropagation?b.stopImmediatePropagation():b.propagationStopped=!0,b.stopPropagation(),b.preventDefault(),!1):!0:!0},m.prototype.onClick=function(b){var c;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===b.target.type&&0===b.detail?!0:(c=this.onMouse(b),c||(this.targetElement=null),c)},m.prototype.destroy=function(){var b=this.layer;e&&(b.removeEventListener("mouseover",this.onMouse,!0),b.removeEventListener("mousedown",this.onMouse,!0),b.removeEventListener("mouseup",this.onMouse,!0)),b.removeEventListener("click",this.onClick,!0),b.removeEventListener("touchstart",this.onTouchStart,!1),b.removeEventListener("touchmove",this.onTouchMove,!1),b.removeEventListener("touchend",this.onTouchEnd,!1),b.removeEventListener("touchcancel",this.onTouchCancel,!1)},m.notNeeded=function(f){var b,g,d,c;if("undefined"==typeof window.ontouchstart){return !0}if(g=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!e){return !0}if(b=document.querySelector("meta[name=viewport]")){if(-1!==b.content.indexOf("user-scalable=no")){return !0}if(g>31&&document.documentElement.scrollWidth<=window.outerWidth){return !0}}}if(a&&(d=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),d[1]>=10&&d[2]>=3&&(b=document.querySelector("meta[name=viewport]")))){if(-1!==b.content.indexOf("user-scalable=no")){return !0}if(document.documentElement.scrollWidth<=window.outerWidth){return !0}}return"none"===f.style.msTouchAction||"manipulation"===f.style.touchAction?!0:(c=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],c>=27&&(b=document.querySelector("meta[name=viewport]"),b&&(-1!==b.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth))?!0:"none"===f.style.touchAction||"manipulation"===f.style.touchAction?!0:!1)},m.attach=function(b,c){return new m(b,c)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return m}):"undefined"!=typeof module&&module.exports?(module.exports=m.attach,module.exports.FastClick=m):window.FastClick=m}();$(function(){FastClick.attach(document.body);h();var n=[];var j=10;var k={index:0,len:0,succNum:0,gSuccNum:3,flag:true,da2:[],init:function(){var a=document.getElementById("box");var b=a.getElementsByTagName("div");b[this.index].style.display="";this.start()},start:function(){var f=this;var g=document.getElementById("box");var b=g.getElementsByTagName("div");var q=b[this.index].getElementsByTagName("ul")[0];var a=b[this.index].getElementsByTagName("ul")[1];var c=q.getElementsByTagName("li");var d=a.getElementsByTagName("li");if(this.flag){this.flag=false;for(var e=0;e<c.length;e++){c[e].num=e;c[e].onoff=true;c[e].onclick=function(){f.aLiClick1(this,d.length)}}for(var e=0;e<d.length;e++){d[e].onoff=false;d[e].onclick=function(){f.aLiClick2(this,c)}}$("#box-btn").click(function(){$(this).hide();$(this).off("click");f.len=0;f.flag=true;if(f.da2.toString()==n[f.index].toString()){f.succNum++;$(".succNum").html(f.succNum)}if(f.succNum==f.gSuccNum){$(".succNum").html(f.succNum);b[f.index].style.display="none";f.index++;$("#main").css("display","none");$("#end").css("display","block");$("#succBox").css("display","block");$("#failBox").css("display","none")}else{if(f.index<j-1){b[f.index].style.display="none";f.index++;f.init()}else{b[f.index].style.display="none";f.index++;$("#main").css("display","none");$("#end").css("display","block");$("#succBox").css("display","none");$("#failBox").css("display","block")}}f.da2=[]})}},end:function(){},reset:function(){this.index=0;this.len=0;this.succNum=0;this.flag=true;this.da2=[];$(".succNum").html(this.succNum)},aLiClick1:function(c,e){var c=c;var a=document.getElementById("box");var d=a.getElementsByTagName("div");var b=d[this.index].getElementsByTagName("ul")[1];var e=b.getElementsByTagName("li");if(this.len<e.length&&c.onoff){c.className="on";e[this.len].innerHTML=c.innerHTML;e[this.len].num=c.num;e[this.len].onoff=true;this.da2.push(c.innerHTML);c.onoff=false;this.len++}if(this.len===e.length){if(this.da2.toString()==n[this.index].toString()){$(d[this.index]).find(".succ").show()}else{$(d[this.index]).find(".fail").show()}$("#box-btn").show()}},aLiClick2:function(d,e){var g=this;var d=d;var p=document.getElementById("box");var f=p.getElementsByTagName("div");var a=f[this.index].getElementsByTagName("ul")[0];var b=f[this.index].getElementsByTagName("ul")[1];var e=a.getElementsByTagName("li");if(d.onoff){this.len--;var c=$(d).index();this.da2.splice(c,1);d.innerHTML="";e[d.num].className="";e[d.num].onoff=true;d.onoff=false;$(b).append(d);$(f[this.index]).find(".succ").hide();$(f[this.index]).find(".fail").hide();$("#box-btn").hide()}}};function l(){k.reset();k.init();k.start()}function h(){$.ajax({type:"get",url:"js/qa.json",dataType:"json",success:function(a){i(a,n,j)},error:function(){},complete:function(){l()}})}function i(a,A,x){document.getElementById("box").innerHTML="";A.length=0;var d=m(a,x);var B="";for(var c=0;c<d.length;c++){var D="",z="",f="",y="",b="";var C=[];D=d[c].que;z=d[c].ans;for(var e=0;e<D.length;e++){y+="<li>"+D[e]+"</li>"}for(var e=0;e<z.length;e++){C.push(z[e]);b+="<li></li>"}var g=(z.length*115+24)/100+"rem";A.push(C);f+='<ul class="que">'+y+"</ul>";f+='<p class="tips">提示：'+d[c].tip+"</p>";f+='<ul class="ans flex flex-ac flex-pc">'+b+"</ul>";f+='<p class="succ" style="margin-left:'+g+';display:none"></p>';f+='<p class="fail" style="margin-left:'+g+';display:none"></p>';B+='<div id="box-item'+c+'" class="box-item" style="display:none">'+f+"</div>"}B+='<p id="box-btn" class="btns" style="display:none">下一题</p>';$("#box").append(B)}function m(e,c){var f=new Array();for(var d in e){f.push(e[d])}var a=new Array();for(var b=0;b<c;b++){if(f.length>0){var g=Math.floor(Math.random()*f.length);a[b]=f[g];f.splice(g,1)}else{break}}return a}$("#resetBtn").click(function(){h();$("#end").css("display","none");$("#main").css("display","block")})});var load=document.getElementById("loading");var pw=parseInt($("#pro_div .pro_bg").css("width"));var imgSources=["bg.png","bg_index.png","top_index.png","icon_book.png","logo.png","btn.png","top.png","bg_zi.png","succ.png","fail.png","gx.png","kx.png","split.png"];var nowload=0;var imgVal=imgSources.length;var imgPath="img/";var loadingPage=(function(){for(var l=0;l<imgSources.length;l++){imgSources[l]=(imgPath+imgSources[l])}var i=function(b,a){var c=new Image();c.onload=function(){c.onload=null;a(b);nowload++;$("#pro_div .pro").css("width",pw/imgVal*nowload)};c.src=b};var h=function(a,b){var d=a.length,c=0;while(a.length){i(a.shift(),function(e){b(e,++c,d)})}};var g=document.getElementById("loading_rate");var j=document.getElementById("bar");var k=0;h(imgSources,function(b,a,c){k=a/c;g.innerHTML=Math.floor(k*100)+"%";if(k==1){setTimeout(function(){$("#loading").css("display","none");initPage01()},500)}})})();function initPage01(){$("#startBtn").css("display","block");$("#startBtn").click(function(){$("#start").css("display","none");$("#main").css("display","block")})};