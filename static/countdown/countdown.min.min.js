var WINDOW_WIDTH=1024;var WINDOW_HEIGHT=768;var RADIUS=8;var MARGIN_LEFT=10;var MARGIN_TOP=60;var curShowTimeSeconds=0;var balls=[];const colors=["#33B5E5","#0099CC","#AA66CC","#9933CC","#99CC00","#669900","#FFBB33","#FF8800","#FF4444","#CC0000"];window.onload=window.onresize=function(){WINDOW_WIDTH=document.body.clientWidth;WINDOW_HEIGHT=document.body.clientHeight;MARGIN_LEFT=Math.round(WINDOW_WIDTH/10);RADIUS=Math.round(WINDOW_WIDTH*4/5/114)-1;MARGIN_TOP=Math.round(WINDOW_HEIGHT/5);var c=document.getElementById("myCanvas");var d=c.getContext("2d");c.width=WINDOW_WIDTH;c.height=WINDOW_HEIGHT;curShowTimeSeconds=getCurrentShowTimeSeconds();setInterval(function(){render(d);update()},50)};function getCurrentShowTimeSeconds(){var c=new Date();var d=c.getHours()*3600+c.getMinutes()*60+c.getSeconds();return d}function update(){var j=getCurrentShowTimeSeconds();var k=parseInt(j/3600);var m=parseInt((j-k*3600)/60);var i=j%60;var h=parseInt(curShowTimeSeconds/3600);var n=parseInt((curShowTimeSeconds-h*3600)/60);var l=curShowTimeSeconds%60;if(i!=l){if(parseInt(h/10)!=parseInt(k/10)){addBalls(MARGIN_LEFT,MARGIN_TOP,parseInt(h/10))}if(parseInt(h%10)!=parseInt(k%10)){addBalls(MARGIN_LEFT+16*(RADIUS+1),MARGIN_TOP,parseInt(h%10))}if(parseInt(n/10)!=parseInt(m/10)){addBalls(MARGIN_LEFT+41*(RADIUS+1),MARGIN_TOP,parseInt(n/10))}if(parseInt(n%10)!=parseInt(m%10)){addBalls(MARGIN_LEFT+57*(RADIUS+1),MARGIN_TOP,parseInt(n%10))}if(parseInt(l/10)!=parseInt(i/10)){addBalls(MARGIN_LEFT+82*(RADIUS+1),MARGIN_TOP,parseInt(l/10))}if(parseInt(l%10)!=parseInt(i%10)){addBalls(MARGIN_LEFT+98*(RADIUS+1),MARGIN_TOP,parseInt(l%10))}curShowTimeSeconds=j}updateBalls()}function updateBalls(){for(var c=0;c<balls.length;c++){balls[c].x+=balls[c].vx;balls[c].y+=balls[c].vy;balls[c].vy+=balls[c].g;if(balls[c].y>=WINDOW_HEIGHT-RADIUS){balls[c].y=WINDOW_HEIGHT-RADIUS;balls[c].vy=-balls[c].vy*0.75}}var d=0;for(var c=0;c<balls.length;c++){if(balls[c].x+RADIUS>0&&balls[c].x-RADIUS<WINDOW_WIDTH){balls[d++]=balls[c]}}while(balls.length>d){balls.pop()}}function addBalls(h,i,l){for(var j=0;j<digit[l].length;j++){for(var g=0;g<digit[l][j].length;g++){if(digit[l][j][g]==1){var k={x:h+g*2*(RADIUS+1)+(RADIUS+1),y:i+j*2*(RADIUS+1)+(RADIUS+1),g:1.5+Math.random(),vx:Math.pow(-1,Math.ceil(Math.random()*1000))*4,vy:-5,color:colors[Math.floor(Math.random()*colors.length)]};balls.push(k)}}}}function render(f){f.clearRect(0,0,WINDOW_WIDTH,WINDOW_HEIGHT);var g=parseInt(curShowTimeSeconds/3600);var i=parseInt((curShowTimeSeconds-g*3600)/60);var h=curShowTimeSeconds%60;renderDigit(MARGIN_LEFT,MARGIN_TOP,parseInt(g/10),f);renderDigit(MARGIN_LEFT+16*(RADIUS+1),MARGIN_TOP,parseInt(g%10),f);renderDigit(MARGIN_LEFT+32*(RADIUS+1),MARGIN_TOP,10,f);renderDigit(MARGIN_LEFT+41*(RADIUS+1),MARGIN_TOP,parseInt(i/10),f);renderDigit(MARGIN_LEFT+57*(RADIUS+1),MARGIN_TOP,parseInt(i%10),f);renderDigit(MARGIN_LEFT+73*(RADIUS+1),MARGIN_TOP,10,f);renderDigit(MARGIN_LEFT+82*(RADIUS+1),MARGIN_TOP,parseInt(h/10),f);renderDigit(MARGIN_LEFT+98*(RADIUS+1),MARGIN_TOP,parseInt(h%10),f);for(var j=0;j<balls.length;j++){f.fillStyle=balls[j].color;f.beginPath();f.arc(balls[j].x,balls[j].y,RADIUS,0,2*Math.PI);f.closePath();f.fill()}}function renderDigit(h,i,k,g){g.fillStyle="rgb(0,102,153)";for(var j=0;j<digit[k].length;j++){for(var l=0;l<digit[k][j].length;l++){if(digit[k][j][l]==1){g.beginPath();g.arc(h+l*2*(RADIUS+1)+(RADIUS+1),i+j*2*(RADIUS+1)+(RADIUS+1),RADIUS,0,2*Math.PI);g.closePath();g.fill()}}}};