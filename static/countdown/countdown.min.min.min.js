var WINDOW_WIDTH=1024;var WINDOW_HEIGHT=768;var RADIUS=8;var MARGIN_LEFT=10;var MARGIN_TOP=60;var curShowTimeSeconds=0;var balls=[];const colors=["#33B5E5","#0099CC","#AA66CC","#9933CC","#99CC00","#669900","#FFBB33","#FF8800","#FF4444","#CC0000"];window.onload=window.onresize=function(){WINDOW_WIDTH=document.body.clientWidth;WINDOW_HEIGHT=document.body.clientHeight;MARGIN_LEFT=Math.round(WINDOW_WIDTH/10);RADIUS=Math.round(WINDOW_WIDTH*4/5/114)-1;MARGIN_TOP=Math.round(WINDOW_HEIGHT/5);var b=document.getElementById("myCanvas");var a=b.getContext("2d");b.width=WINDOW_WIDTH;b.height=WINDOW_HEIGHT;curShowTimeSeconds=getCurrentShowTimeSeconds();setInterval(function(){render(a);update()},50)};function getCurrentShowTimeSeconds(){var b=new Date();var a=b.getHours()*3600+b.getMinutes()*60+b.getSeconds();return a}function update(){var d=getCurrentShowTimeSeconds();var c=parseInt(d/3600);var a=parseInt((d-c*3600)/60);var e=d%60;var f=parseInt(curShowTimeSeconds/3600);var g=parseInt((curShowTimeSeconds-f*3600)/60);var b=curShowTimeSeconds%60;if(e!=b){if(parseInt(f/10)!=parseInt(c/10)){addBalls(MARGIN_LEFT,MARGIN_TOP,parseInt(f/10))}if(parseInt(f%10)!=parseInt(c%10)){addBalls(MARGIN_LEFT+16*(RADIUS+1),MARGIN_TOP,parseInt(f%10))}if(parseInt(g/10)!=parseInt(a/10)){addBalls(MARGIN_LEFT+41*(RADIUS+1),MARGIN_TOP,parseInt(g/10))}if(parseInt(g%10)!=parseInt(a%10)){addBalls(MARGIN_LEFT+57*(RADIUS+1),MARGIN_TOP,parseInt(g%10))}if(parseInt(b/10)!=parseInt(e/10)){addBalls(MARGIN_LEFT+82*(RADIUS+1),MARGIN_TOP,parseInt(b/10))}if(parseInt(b%10)!=parseInt(e%10)){addBalls(MARGIN_LEFT+98*(RADIUS+1),MARGIN_TOP,parseInt(b%10))}curShowTimeSeconds=d}updateBalls()}function updateBalls(){for(var b=0;b<balls.length;b++){balls[b].x+=balls[b].vx;balls[b].y+=balls[b].vy;balls[b].vy+=balls[b].g;if(balls[b].y>=WINDOW_HEIGHT-RADIUS){balls[b].y=WINDOW_HEIGHT-RADIUS;balls[b].vy=-balls[b].vy*0.75}}var a=0;for(var b=0;b<balls.length;b++){if(balls[b].x+RADIUS>0&&balls[b].x-RADIUS<WINDOW_WIDTH){balls[a++]=balls[b]}}while(balls.length>a){balls.pop()}}function addBalls(e,d,a){for(var c=0;c<digit[a].length;c++){for(var f=0;f<digit[a][c].length;f++){if(digit[a][c][f]==1){var b={x:e+f*2*(RADIUS+1)+(RADIUS+1),y:d+c*2*(RADIUS+1)+(RADIUS+1),g:1.5+Math.random(),vx:Math.pow(-1,Math.ceil(Math.random()*1000))*4,vy:-5,color:colors[Math.floor(Math.random()*colors.length)]};balls.push(b)}}}}function render(e){e.clearRect(0,0,WINDOW_WIDTH,WINDOW_HEIGHT);var d=parseInt(curShowTimeSeconds/3600);var b=parseInt((curShowTimeSeconds-d*3600)/60);var c=curShowTimeSeconds%60;renderDigit(MARGIN_LEFT,MARGIN_TOP,parseInt(d/10),e);renderDigit(MARGIN_LEFT+16*(RADIUS+1),MARGIN_TOP,parseInt(d%10),e);renderDigit(MARGIN_LEFT+32*(RADIUS+1),MARGIN_TOP,10,e);renderDigit(MARGIN_LEFT+41*(RADIUS+1),MARGIN_TOP,parseInt(b/10),e);renderDigit(MARGIN_LEFT+57*(RADIUS+1),MARGIN_TOP,parseInt(b%10),e);renderDigit(MARGIN_LEFT+73*(RADIUS+1),MARGIN_TOP,10,e);renderDigit(MARGIN_LEFT+82*(RADIUS+1),MARGIN_TOP,parseInt(c/10),e);renderDigit(MARGIN_LEFT+98*(RADIUS+1),MARGIN_TOP,parseInt(c%10),e);for(var a=0;a<balls.length;a++){e.fillStyle=balls[a].color;e.beginPath();e.arc(balls[a].x,balls[a].y,RADIUS,0,2*Math.PI);e.closePath();e.fill()}}function renderDigit(e,d,b,f){f.fillStyle="rgb(0,102,153)";for(var c=0;c<digit[b].length;c++){for(var a=0;a<digit[b][c].length;a++){if(digit[b][c][a]==1){f.beginPath();f.arc(e+a*2*(RADIUS+1)+(RADIUS+1),d+c*2*(RADIUS+1)+(RADIUS+1),RADIUS,0,2*Math.PI);f.closePath();f.fill()}}}};