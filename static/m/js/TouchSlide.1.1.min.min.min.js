/*!
 * TouchSlide v1.1
 * javascript触屏滑动特效插件，移动端滑动特效，触屏焦点图，触屏Tab切换，触屏多图切换等
 * 详尽信息请看官网：http://www.SuperSlide2.com/TouchSlide/
 *
 * Copyright 2013 大话主席
 *
 * 请尊重原创，保留头部版权
 * 在保留版权的前提下可应用于个人或商业用途

 * 1.1 宽度自适应（修复安卓横屏时滑动范围不变的bug）
 */
;var TouchSlide=function(au){au=au||{};var at={slideCell:au.slideCell||"#touchSlide",titCell:au.titCell||".hd li",mainCell:au.mainCell||".bd",effect:au.effect||"left",autoPlay:au.autoPlay||!1,delayTime:au.delayTime||200,interTime:au.interTime||2500,defaultIndex:au.defaultIndex||0,titOnClassName:au.titOnClassName||"on",autoPage:au.autoPage||!1,prevCell:au.prevCell||".prev",nextCell:au.nextCell||".next",pageStateCell:au.pageStateCell||".pageState",pnLoop:"undefined "==au.pnLoop?!0:au.pnLoop,startFun:au.startFun||null,endFun:au.endFun||null,switchLoad:au.switchLoad||null},ar=document.getElementById(at.slideCell.replace("#",""));if(!ar){return !1}var aq=function(d,c){d=d.split(" ");var a=[];c=c||document;var i=[c];for(var b in d){0!=d[b].length&&a.push(d[b])}for(var b in a){if(0==i.length){return !1}var k=[];for(var j in i){if("#"==a[b][0]){k.push(document.getElementById(a[b].replace("#","")))}else{if("."==a[b][0]){for(var h=i[j].getElementsByTagName("*"),g=0;g<h.length;g++){var e=h[g].className;e&&-1!=e.search(new RegExp("\\b"+a[b].replace(".","")+"\\b"))&&k.push(h[g])}}else{for(var h=i[j].getElementsByTagName(a[b]),g=0;g<h.length;g++){k.push(h[g])}}}}i=k}return 0==i.length||i[0]==c?!1:i},ap=function(a,d){var c=document.createElement("div");c.innerHTML=d,c=c.children[0];var b=a.cloneNode(!0);return c.appendChild(b),a.parentNode.replaceChild(c,a),ai=b,c},ao=function(b,a){!b||!a||b.className&&-1!=b.className.search(new RegExp("\\b"+a+"\\b"))||(b.className+=(b.className?" ":"")+a)},an=function(b,a){!b||!a||b.className&&-1==b.className.search(new RegExp("\\b"+a+"\\b"))||(b.className=b.className.replace(new RegExp("\\s*\\b"+a+"\\b","g"),""))},am=at.effect,al=aq(at.prevCell,ar)[0],ak=aq(at.nextCell,ar)[0],aj=aq(at.pageStateCell)[0],ai=aq(at.mainCell,ar)[0];if(!ai){return !1}var aG,aF,ah=ai.children.length,ag=aq(at.titCell,ar),af=ag?ag.length:ah,ae=at.switchLoad,ad=parseInt(at.defaultIndex),ac=parseInt(at.delayTime),ab=parseInt(at.interTime),L="false"==at.autoPlay||0==at.autoPlay?!1:!0,F="false"==at.autoPage||0==at.autoPage?!1:!0,f="false"==at.pnLoop||0==at.pnLoop?!1:!0,aW=ad,aV=null,aU=null,aS=null,aR=0,aQ=0,aP=0,aO=0,aN=/hp-tablet/gi.test(navigator.appVersion),aM="ontouchstart" in window&&!aN,aL=aM?"touchstart":"mousedown",aJ=aM?"touchmove":"",aI=aM?"touchend":"mouseup",aH=ai.parentNode.clientWidth,aE=ah;if(0==af&&(af=ah),F){af=ah,ag=ag[0],ag.innerHTML="";var aC="";if(1==at.autoPage||"true"==at.autoPage){for(var aB=0;af>aB;aB++){aC+="<li>"+(aB+1)+"</li>"}}else{for(var aB=0;af>aB;aB++){aC+=at.autoPage.replace("$",aB+1)}}ag.innerHTML=aC,ag=ag.children}"leftLoop"==am&&(aE+=2,ai.appendChild(ai.children[0].cloneNode(!0)),ai.insertBefore(ai.children[ah-1].cloneNode(!0),ai.children[0])),aG=ap(ai,'<div class="tempWrap" style="overflow:hidden; position:relative;"></div>'),ai.style.cssText="width:"+aE*aH+"px;position:relative;overflow:hidden;padding:0;margin:0;";for(var aB=0;aE>aB;aB++){ai.children[aB].style.cssText="display:table-cell;vertical-align:top;width:"+aH+"px"}var aA=function(){"function"==typeof at.startFun&&at.startFun(ad,af)},az=function(){"function"==typeof at.endFun&&at.endFun(ad,af)},ay=function(b){var a=("leftLoop"==am?ad+1:ad)+b,c=function(e){for(var d=ai.children[e].getElementsByTagName("img"),g=0;g<d.length;g++){d[g].getAttribute(ae)&&(d[g].setAttribute("src",d[g].getAttribute(ae)),d[g].removeAttribute(ae))}};if(c(a),"leftLoop"==am){switch(a){case 0:c(ah);break;case 1:c(ah+1);break;case ah:c(0);break;case ah+1:c(1)}}},aw=function(){aH=aG.clientWidth,ai.style.width=aE*aH+"px";for(var b=0;aE>b;b++){ai.children[b].style.width=aH+"px"}var a="leftLoop"==am?ad+1:ad;av(-a*aH,0)};window.addEventListener("resize",aw,!1);var av=function(b,a,c){c=c?c.style:ai.style,c.webkitTransitionDuration=c.MozTransitionDuration=c.msTransitionDuration=c.OTransitionDuration=c.transitionDuration=a+"ms",c.webkitTransform="translate("+b+"px,0)translateZ(0)",c.msTransform=c.MozTransform=c.OTransform="translateX("+b+"px)"},aK=function(b){switch(am){case"left":ad>=af?ad=b?ad-1:0:0>ad&&(ad=b?0:af-1),null!=ae&&ay(0),av(-ad*aH,ac),aW=ad;break;case"leftLoop":null!=ae&&ay(0),av(-(ad+1)*aH,ac),-1==ad?(aU=setTimeout(function(){av(-af*aH,0)},ac),ad=af-1):ad==af&&(aU=setTimeout(function(){av(-aH,0)},ac),ad=0),aW=ad}aA(),aS=setTimeout(function(){az()},ac);for(var a=0;af>a;a++){an(ag[a],at.titOnClassName),a==ad&&ao(ag[a],at.titOnClassName)}0==f&&(an(ak,"nextStop"),an(al,"prevStop"),0==ad?ao(al,"prevStop"):ad==af-1&&ao(ak,"nextStop")),aj&&(aj.innerHTML="<span>"+(ad+1)+"</span>/"+af)};if(aK(),L&&(aV=setInterval(function(){ad++,aK()},ab)),ag){for(var aB=0;af>aB;aB++){!function(){var a=aB;ag[a].addEventListener("click",function(){clearTimeout(aU),clearTimeout(aS),ad=a,aK()})}()}}ak&&ak.addEventListener("click",function(){(1==f||ad!=af-1)&&(clearTimeout(aU),clearTimeout(aS),ad++,aK())}),al&&al.addEventListener("click",function(){(1==f||0!=ad)&&(clearTimeout(aU),clearTimeout(aS),ad--,aK())});var aD=function(b){clearTimeout(aU),clearTimeout(aS),aF=void 0,aP=0;var a=aM?b.touches[0]:b;aR=a.pageX,aQ=a.pageY,ai.addEventListener(aJ,ax,!1),ai.addEventListener(aI,aT,!1)},ax=function(b){if(!aM||!(b.touches.length>1||b.scale&&1!==b.scale)){var a=aM?b.touches[0]:b;if(aP=a.pageX-aR,aO=a.pageY-aQ,"undefined"==typeof aF&&(aF=!!(aF||Math.abs(aP)<Math.abs(aO))),!aF){switch(b.preventDefault(),L&&clearInterval(aV),am){case"left":(0==ad&&aP>0||ad>=af-1&&0>aP)&&(aP=0.4*aP),av(-ad*aH+aP,0);break;case"leftLoop":av(-(ad+1)*aH+aP,0)}null!=ae&&Math.abs(aP)>aH/3&&ay(aP>-0?-1:1)}}},aT=function(a){0!=aP&&(a.preventDefault(),aF||(Math.abs(aP)>aH/10&&(aP>0?ad--:ad++),aK(!0),L&&(aV=setInterval(function(){ad++,aK()},ab))),ai.removeEventListener(aJ,ax,!1),ai.removeEventListener(aI,aT,!1))};ai.addEventListener(aL,aD,!1)};